{% extends "base.html" %}

{% block title %}Home - My Blog{% endblock %}

{% block content %}
<h1>Welcome to My Blog!</h1>
<a href="{{ url_for('add') }}" class="btn btn-success mb-3">Add New Post</a>

{% for post in posts %}
<div class="card mb-4 shadow-sm">
    <div class="card-body">
        <h5 class="card-title">
            <a href="{{ url_for('view_post', id=post.id) }}">{{ post.title }}</a>
        </h5>
        <p class="card-text">{{ post.content }}</p>
        {% if session.get('user_id') %}
        <a href="{{ url_for('edit', id=post.id) }}" class="btn btn-warning btn-sm">Edit</a>
        <form action="{{ url_for('delete', id=post.id) }}" method="POST" style="display:inline;">
            <button type="submit" class="btn btn-danger btn-sm"
                onclick="return confirm('Are you sure you want to delete this post?');">
                Delete
            </button>
        </form>
        {% endif %}
    </div>
</div>
{% else %}
<p>No posts yet!</p>
{% endfor %}

{% endblock %}
